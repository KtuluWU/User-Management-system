{% trans_default_domain 'ums' %}
<!DOCTYPE html>

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="author" content="Yun WU, Jie LU, Yuxiang WANG">
    {#<link rel="icon" href="favicon.ico" type="image/x-icon">#}
    <title>
        {% block title %}{{ 'base.title'|trans }}{% endblock %}
    </title>

    {% block stylesheets %}
        <!-- VENDOR CSS -->
        <link rel="stylesheet" href="{{ asset('vendor/bootstrap/css/bootstrap.min.css') }}"/>
        <link rel="stylesheet" href="{{ asset('vendor/font-awesome/css/font-awesome.min.css') }}"/>

        <!-- MAIN CSS -->
        <link rel="stylesheet" href="{{ asset('css/main.css') }}"/>
        <link rel="stylesheet" href="{{ asset('css/color_skins.css') }}"/>
    {% endblock %}
</head>
<body class="theme-orange">

<!-- Page Loader -->
{% block loader %}
    <div class="page-loader-wrapper">
        <div class="loader">
            <div class="m-t-30"><img src="{{ asset('images/logo-icon.svg') }}" width="48" height="48" alt="Logo"></div>
            <p>{{ 'base.loader'|trans }}</p>
        </div>
    </div>
{% endblock %}

<div id="wrapper">
    {% block navbar_top %}
        <nav class="navbar navbar-fixed-top">
            <div class="container-fluid">
                <div class="navbar-btn">
                    <button type="button" class="btn-toggle-offcanvas"><i class="lnr lnr-menu fa fa-bars"></i></button>
                </div>

                <div class="navbar-brand">
                    <a href="/"><img src="{{ asset('images/logo.svg') }}" alt="Logo" class="img-responsive logo"></a>
                </div>

                <div class="navbar-right">
                    <div id="navbar-menu">
                        <ul class="nav navbar-nav">
                            {#<li><a href="app-events.html" class="icon-menu d-none d-sm-block d-md-none d-lg-block"><i class="icon-calendar"></i></a></li>#}
                            <li class="dropdown">
                                <a href="javascript:void(0);" class="dropdown-toggle icon-menu" data-toggle="dropdown">
                                    <i class="icon-bell"></i>
                                    <span class="notification-dot"></span>
                                </a>
                                <ul class="dropdown-menu notifications animated shake">
                                    <li class="header"><strong>You have 4 new Notifications</strong></li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <div class="media">
                                                <div class="media-left">
                                                    <i class="icon-info text-warning"></i>
                                                </div>
                                                <div class="media-body">
                                                    <p class="text">Campaign <strong>Holiday Sale</strong> is nearly reach budget limit.</p>
                                                    <span class="timestamp">10:00 AM Today</span>
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <div class="media">
                                                <div class="media-left">
                                                    <i class="icon-like text-success"></i>
                                                </div>
                                                <div class="media-body">
                                                    <p class="text">Your New Campaign <strong>Holiday Sale</strong> is approved.</p>
                                                    <span class="timestamp">11:30 AM Today</span>
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <div class="media">
                                                <div class="media-left">
                                                    <i class="icon-pie-chart text-info"></i>
                                                </div>
                                                <div class="media-body">
                                                    <p class="text">Website visits from Twitter is 27% higher than last week.</p>
                                                    <span class="timestamp">04:00 PM Today</span>
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                    <li>
                                        <a href="javascript:void(0);">
                                            <div class="media">
                                                <div class="media-left">
                                                    <i class="icon-info text-danger"></i>
                                                </div>
                                                <div class="media-body">
                                                    <p class="text">Error on website analytics configurations</p>
                                                    <span class="timestamp">Yesterday</span>
                                                </div>
                                            </div>
                                        </a>
                                    </li>
                                    <li class="footer"><a href="javascript:void(0);" class="more">See all notifications</a></li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="javascript:void(0);" class="dropdown-toggle icon-menu" data-toggle="dropdown"><i class="icon-equalizer"></i></a>
                                <ul class="dropdown-menu user-menu menu-icon animated bounceIn">
                                    <li class="menu-heading">ACCOUNT SETTINGS</li>
                                    <li><a href="javascript:void(0);"><i class="icon-note"></i> <span>Basic</span></a></li>
                                    <li><a href="javascript:void(0);"><i class="icon-equalizer"></i> <span>Preferences</span></a></li>
                                    <li><a href="javascript:void(0);"><i class="icon-lock"></i> <span>Privacy</span></a></li>
                                    <li><a href="javascript:void(0);"><i class="icon-bell"></i> <span>Notifications</span></a></li>
                                    <li class="menu-heading">BILLING</li>
                                    <li><a href="javascript:void(0);"><i class="icon-credit-card"></i> <span>Payments</span></a></li>
                                    <li><a href="javascript:void(0);"><i class="icon-printer"></i> <span>Invoices</span></a></li>
                                    <li><a href="javascript:void(0);"><i class="icon-refresh"></i> <span>Renewals</span></a></li>
                                </ul>
                            </li>
                            <li><a href="/logout" class="icon-menu"><i class="icon-login"></i></a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </nav>

    {% endblock %}

    <!-- 设置变量控制左侧标签的active属性 -->
    {% set nav_user_active, nav_admin_active = false, false %}
    {% set tab_home, tab_profile, tab_purchase, tab_source, tab_buyer, tab_seller, tab_admin, tab_product = false, false, false, false, false, false, false, false %}

    {% block sidebar %}
        <div id="left-sidebar" class="sidebar">
            <div class="sidebar-scroll">
                <div class="user-account">
                    <img src="{{ asset('images/user.png') }}" class="rounded-circle user-photo" alt="User Profile Picture">
                    <div class="dropdown">
                        {% set user_role = 'roles.' ~ app.user.roles[0] %}
                        {% set user_name = app.user.firstname ~ "  " ~ app.user.lastname %}
                        <span>{{ user_role|trans }} {{ 'sidebar.menu.welcome'|trans }}</span>
                        <a href="javascript:void(0);" class="dropdown-toggle user-name" data-toggle="dropdown"><strong>{{ user_name }}</strong></a>
                        <ul class="dropdown-menu dropdown-menu-right account animated flipInY">
                            <li><a href="/profile"><i class="icon-user"></i>{{ 'sidebar.menu.profile'|trans }}</a></li>
                            <li class="divider"></li>
                            <li><a href="/logout"><i class="icon-power"></i>{{ 'sidebar.menu.logout'|trans }}</a></li>
                        </ul>
                    </div>
                    <hr>
                </div>
                <!-- Nav tabs -->
                <ul class="nav nav-tabs">
                    <li class="nav-item"><a class={% if nav_user_active %}"nav-link active"{% else %}"nav-link"{% endif %} data-toggle="tab" href="#menu"><i class="icon-grid"></i></a></li>
                    {% if is_granted('ROLE_ADMIN') %}
                    <li class="nav-item"><a class={% if nav_admin_active %}"nav-link active"{% else %}"nav-link"{% endif %} data-toggle="tab" href="#admin_menu">{{ 'sidebar.menu.admin'|trans }}</a></li>
                    {% endif %}
                    <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#setting"><i class="icon-settings"></i></a></li>
                </ul>

                <!-- Tab panes -->
                {% block tab_content %}
                <div class="tab-content p-l-0 p-r-0">
                    <div class={% if nav_user_active %}"tab-pane animated fadeIn active"{% else %}"tab-pane animated fadeIn"{% endif %} id="menu">
                        <nav class="sidebar-nav">
                            <ul class="main-menu metismenu">
                                <li {% if tab_home %}class="active"{% endif %}><a href="/"><i class="icon-home"></i><span>{{ 'sidebar.menu.index'|trans }}</span></a></li>
                                <li {% if tab_profile %}class="active"{% endif %}><a href="/profile"><i class="icon-user"></i>{{ 'sidebar.menu.profile'|trans }}</a></li>
                                <li {% if tab_purchase %}class="active"{% endif %}><a href="/purchasehistory"><i class="icon-basket-loaded"></i>{{ 'sidebar.menu.buy_histo'|trans }}</a></li>
                                <li {% if tab_source %}class="active"{% endif %}>
                                    <a href="javascript:void(0);" class="has-arrow"><i class="icon-plane"></i><span>{{ 'sidebar.menu.product_source'|trans }}</span></a>
                                    <ul>
                                        <li><a href="javascript:void(0);">All Employees</a></li>
                                        <li><a href="javascript:void(0);">Leave Requests</a></li>
                                        <li><a href="javascript:void(0);">Attendance</a></li>
                                        <li><a href="javascript:void(0);">Departments</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </nav>
                    </div>
                    {% if is_granted('ROLE_ADMIN') %}
                    <div class={% if nav_admin_active %}"tab-pane animated fadeIn active"{% else %}"tab-pane animated fadeIn"{% endif %} id="admin_menu">
                        <nav class="sidebar-nav">
                            <ul class="main-menu metismenu">
                                <li {% if tab_buyer %}class="active"{% endif %}><a href="javascript:void(0);"><i class="icon-users"></i><span>{{ 'sidebar.admin.users'|trans }}</span></a></li>
                                <li {% if tab_seller %}class="active"{% endif %}><a href="javascript:void(0);"><i class="icon-users"></i>{{ 'sidebar.admin.sellers'|trans }}</a></li>
                                <li {% if tab_admin %}class="active"{% endif %}><a href="javascript:void(0);"><i class="icon-diamond"></i>{{ 'sidebar.admin.admins'|trans }}</a></li>
                                <li {% if tab_product %}class="active"{% endif %}><a href="/product"><i class="icon-basket-loaded"></i>{{ 'sidebar.admin.products'|trans }}</a></li>
                                {#<li>
                                    <a href="javascript:void(0);" class="has-arrow"><i class="icon-list"></i><span>Projects</span></a>
                                    <ul>
                                        <li><a href="project-add.html">Add Projects</a></li>
                                        <li><a href="project-list.html">Projects List</a></li>
                                        <li><a href="project-detail.html">Projects Detail</a></li>
                                    </ul>
                                </li>#}
                            </ul>
                        </nav>
                    </div>
                    {% endif %}
                    <div class="tab-pane animated fadeIn" id="setting">
                        <div class="p-l-15 p-r-15">
                            <h6>{{ 'sidebar.setting.skins'|trans }}</h6>
                            <ul class="choose-skin list-unstyled">
                                <li data-theme="purple">
                                    <div class="purple"></div>
                                    <span>{{ 'sidebar.setting.purple'|trans }}</span>
                                </li>
                                <li data-theme="blue">
                                    <div class="blue"></div>
                                    <span>{{ 'sidebar.setting.blue'|trans }}</span>
                                </li>
                                <li data-theme="cyan">
                                    <div class="cyan"></div>
                                    <span>{{ 'sidebar.setting.cyan'|trans }}</span>
                                </li>
                                <li data-theme="green">
                                    <div class="green"></div>
                                    <span>{{ 'sidebar.setting.green'|trans }}</span>
                                </li>
                                <li data-theme="orange" class="active">
                                    <div class="orange"></div>
                                    <span>{{ 'sidebar.setting.orange'|trans }}</span>
                                </li>
                                <li data-theme="blush">
                                    <div class="blush"></div>
                                    <span>{{ 'sidebar.setting.blush'|trans }}</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                {% endblock %}
            </div>
        </div>
    {% endblock %}
    {% block main_content %}{% endblock %}
</div>

{% block footer %}{% endblock %}

<!-- Javascript -->
{% block javascripts %}
    <script src="{{ asset('bundles_js/libscripts.bundle.js') }}"></script>
    <script src="{{ asset('bundles_js/vendorscripts.bundle.js') }}"></script>

    <script src="{{ asset('bundles_js/mainscripts.bundle.js') }}"></script>
{% endblock %}
</body>
</html>